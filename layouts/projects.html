{{ define "main" }}
<article>{{ .Content }}</article>
<style>
  chip {
    line-height: 2.5;
    padding-block: 0.2rem;
    margin-inline: 0.2rem;
    border-radius: 0.5rem;
  }

  .card>footer {
    border-block-start: unset;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr));

    >.card {
      display: flex;
      flex-direction: column;

      >p {
        height: 100%;
        margin-block: 1rem;
      }

      >section {
        padding-block: 0.5rem;
        text-align: end;
      }
    }
  }
</style>
<div class="grid" role="feed">
  {{ range .Site.Data.projects }}
  <article class="box card">
    <header>
      <h2>{{ .title }}</h2>
    </header>
    <section>
      <a href="{{ .repo }}" target="_blank" rel="noopener">Repo</a>
      |
      <a href="{{ .link }}" target="_blank" rel="noopener">Link</a>
    </section>
    <p>{{ .content | markdownify }}</p>
    <footer>
      {{ with .stacks }}
      {{ range $index, $tag := . }}<chip>{{ $tag }}</chip>{{ end }}
      {{ end }}
    </footer>
  </article>
  {{ end }}
</div>
{{ end }}
